@model Services.Common.Model.AccountReportModel

@{
    ViewBag.Title = "Активные счета";
}

<style>
    /* General styles */
    .table-container {
        max-width: 600px;
        margin: 20px auto;
        overflow-x: auto;
    }

    table {
        width: 100%;
        border-collapse: collapse;
    }

    th, td {
        padding: 8px;
        border-bottom: 1px solid #ddd;
    }

    th {
        background-color: #4CAF50;
        color: white;
        text-align: center;
    }

    .table tr:hover {
        background-color: #ddd;
    }

    .action-links {
        margin-top: 20px;
    }

        .action-links a {
            color: #4CAF50;
            text-decoration: none;
            margin-right: 10px;
        }

            .action-links a:hover {
                text-decoration: underline;
            }

    .btn {
        background-color: white;
        border: 2px solid #4CAF50;
        color: #4CAF50;
        padding: 10px 20px;
        text-align: center;
        text-decoration: none;
        display: inline-block;
        font-size: 16px;
        cursor: pointer;
        border-radius: 5px;
    }

        .btn:hover {
            background-color: #4CAF50;
            color: white;
        }

    .container-title {
        display: flex;
        justify-content: space-between;
        margin-bottom: 50px;
    }

    /* Additional styles */
    h2, h3 {
        color: #4CAF50;
        text-align: center;
        margin-top: 30px;
    }

    th {
        background-color: #4CAF50;
        color: white;
    }

    table td {
        padding: 10px;
    }

    table tr:nth-child(even) {
        background-color: #f2f2f2;
    }

    table tr:hover {
        background-color: #ddd;
    }

    button[type="submit"] {
        background-color: #4CAF50;
        color: white;
        border: none;
        padding: 10px 20px;
        text-align: center;
        text-decoration: none;
        display: inline-block;
        font-size: 16px;
        cursor: pointer;
        border-radius: 5px;
        margin-top: 10px;
    }

        button[type="submit"]:hover {
            background-color: #45a049;
        }

    /* Section division */
    .section-divider {
        border-top: 2px solid #4CAF50;
        margin-top: 50px;
        margin-bottom: 50px;
    }
</style>

<h2>Банк</h2>

<!-- Close Operations Section -->
<div class="section-divider"></div>

<div>
    <h3>Операции закрытия</h3>
    <div class="container-title">
        @using (Html.BeginForm("CloseBankDay", "Bank"))
        {
            <button type="submit">Закрыть банковский день</button>
        }
        @using (Html.BeginForm("CloseBankMonth", "Bank"))
        {
            <button type="submit">Закрыть банковский месяц</button>
        }
        @using (Html.BeginForm("CloseBankYear", "Bank"))
        {
            <button type="submit">Закрыть банковский год</button>
        }
    </div>
</div>

<!-- Development Fund Section -->
<div class="section-divider"></div>

<h3>Счёт фонда развития</h3>
<table class="table table-container">
    <tr>
        <th>
            @("Номер счёта")
        </th>
        <th>
            @("Дебет")
        </th>
        <th>
            @("Кредит")
        </th>
        <th>
            @("Баланс")
        </th>
    </tr>
    <tr>
        <td>
            @Html.DisplayFor(model => model.DevelopmentFundAccount.AccountNumber)
        </td>
        <td>
            @Html.DisplayFor(model => model.DevelopmentFundAccount.DebitValue)
        </td>
        <td>
            @Html.DisplayFor(model => model.DevelopmentFundAccount.CreditValue)
        </td>
        <td>
            @Html.DisplayFor(model => model.DevelopmentFundAccount.Balance)
        </td>
    </tr>
</table>

<!-- Cashdesk Section -->
<div class="section-divider"></div>

<h3>Касса банка</h3>
<table class="table table-container">
    <tr>
        <th>
            @("Номер счёта")
        </th>
        <th>
            @("Дебет")
        </th>
        <th>
            @("Кредит")
        </th>
        <th>
            @("Баланс")
        </th>
    </tr>
    <tr>
        <td>
            @Html.DisplayFor(model => model.CashdeskAccount.AccountNumber)
        </td>
        <td>
            @Html.DisplayFor(model => model.CashdeskAccount.DebitValue)
        </td>
        <td>
            @Html.DisplayFor(model => model.CashdeskAccount.CreditValue)
        </td>
        <td>
            @Html.DisplayFor(model => model.CashdeskAccount.Balance)
        </td>
    </tr>
</table>

<!-- Credit Accounts Section -->
<div class="section-divider"></div>

<h3>Кредитные счета</h3>
<table class="table table-container">
    <tr>
        <th>
            @("Номер аккаунта")
        </th>
        <th>
            @("Тип")
        </th>
        <th>
            @("Дебет")
        </th>
        <th>
            @("Кредит")
        </th>
        <th>
            @("Баланс")
        </th>
    </tr>
    @foreach (var credit in Model.Credits)
    {
        string style = credit.Amount == 0 ? "grey" : "";
        <tr style="background-color: @style">
            <td>
                @Html.DisplayFor(modelItem => credit.MainAccount.AccountNumber)
            </td>
            <td>
                @("Основной")
            </td>
            <td>
                @Html.DisplayFor(modelItem => credit.MainAccount.DebitValue)
            </td>
            <td>
                @Html.DisplayFor(modelItem => credit.MainAccount.CreditValue)
            </td>
            <td>
                @Html.DisplayFor(modelItem => credit.MainAccount.Balance)
            </td>
        </tr>
        <tr style="background-color: @style">
            <td>
                @Html.DisplayFor(modelItem => credit.PercentAccount.AccountNumber)
            </td>
            <td>
                @("Процентный")
            </td>
            <td>
                @Html.DisplayFor(modelItem => credit.PercentAccount.DebitValue)
            </td>
            <td>
                @Html.DisplayFor(modelItem => credit.PercentAccount.CreditValue)
            </td>
            <td>
                @Html.DisplayFor(modelItem => credit.PercentAccount.Balance)
            </td>
        </tr>
    }
</table>

<!-- Deposit Accounts Section -->
<div class="section-divider"></div>

<h3>Депозитные счета</h3>
<table class="table table-container">
    <tr>
        <th>
            @("Номер счёта")
        </th>
        <th>
            @("Тип")
        </th>
        <th>
            @("Дебет")
        </th>
        <th>
            @("Кредит")
        </th>
        <th>
            @("Баланс")
        </th>
    </tr>
    @foreach (var deposit in Model.Deposits)
    {
        string style = deposit.Amount == 0 ? "grey" : "";
        <tr style="background-color: @style">
            <td>
                @Html.DisplayFor(modelItem => deposit.MainAccount.AccountNumber)
            </td>
            <td>
                @("Основной")
            </td>
            <td>
                @Html.DisplayFor(modelItem => deposit.MainAccount.DebitValue)
            </td>
            <td>
                @Html.DisplayFor(modelItem => deposit.MainAccount.CreditValue)
            </td>
            <td>
                @Html.DisplayFor(modelItem => deposit.MainAccount.Balance)
            </td>
        </tr>
        <tr style="background-color: @style">
            <td>
                @Html.DisplayFor(modelItem => deposit.PercentAccount.AccountNumber)
            </td>
            <td>
                @("Процентный")
            </td>
            <td>
                @Html.DisplayFor(modelItem => deposit.PercentAccount.DebitValue)
            </td>
            <td>
                @Html.DisplayFor(modelItem => deposit.PercentAccount.CreditValue)
            </td>
            <td>
                @Html.DisplayFor(modelItem => deposit.PercentAccount.Balance)
            </td>
        </tr>
    }
</table>
